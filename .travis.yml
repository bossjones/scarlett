language: python

matrix:
    include:
        - python: 2.7
          env: {TOX_ENV: py27, COVERAGE: 1}
        - python: pypy
          env: {TOX_ENV: pypy}
        - python: 2.7
          env: {TOX_ENV: docs}
        - python: 2.7
          env: {TOX_ENV: flake8}

before_install:
    - travis_retry sudo apt-get update
    - travis_retry sudo apt-get install -qq bash-completion swig
    - travis_retry pip install tox sphinx
    - "[ ! -z $COVERAGE ] && pip install coveralls || true"

install: pip install --allow-all-external -r requirements.txt
script: tox -e $TOX_ENV

#script: python tests/test_scarlett.py unit
